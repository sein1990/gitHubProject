package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import ExpertLegalPortalClass.OracleDbConnection;
import ExpertLegalPortalClass.QueryClass;
import ExpertLegalPortalClass.PieChartDemo;
import java.io.File;
import ExpertLegalPortalClass.Attachment;
import java.util.Vector;
import java.sql.ResultSet;
import java.sql.PreparedStatement;
import ExpertLegalPortalClass.dbconnection;
import java.sql.Connection;

public final class A1_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
 
//String UPLOAD_DIRECTORY ="C://Users//Sein 90//Desktop//up";
            QueryClass objQuery=new QueryClass();

            String caseid1 = request.getParameter("caseid"); 
            String dateS="";
            String reasonS="";
            String nameS="";
            String unityS=""; 
            String remarksS=""; 
            String recoveredS="";
            String salaryDepositS="";
            String totalAmountS="";
            String fileClosedS="";
            String empIDS="";
                Connection con1=dbconnection.getConnection();
                String dbID="";
                PreparedStatement ps=null;
                ResultSet rs=null;
                String IDquery=objQuery.a1(caseid1);
                ps=con1.prepareStatement(IDquery);
                rs=ps.executeQuery();

                if(rs.next())
                {	
                    dbID=rs.getString(1);
                    dateS=rs.getString(2);
                    reasonS=rs.getString(3);
                    nameS=rs.getString(4);
                    unityS=rs.getString(5);
                    remarksS=rs.getString(6);
                    recoveredS=rs.getString(7);
                    salaryDepositS=rs.getString(8);
                    totalAmountS=rs.getString(9);
                    fileClosedS=rs.getString(10);
                    empIDS=rs.getString(11);      
                }
                IDquery=objQuery.a1Attachment(caseid1);
                ps=con1.prepareStatement(IDquery);
                rs=ps.executeQuery(); 
                Vector<Attachment> attachVector =new Vector();while(rs.next())
                    attachVector.add(new Attachment(rs.getString(2), "1", caseid1, rs.getString(1)));


      out.write("\t\n");
      out.write(" <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\">\n");
      out.write("\n");
      out.write("<link rel=\"stylesheet\" href=\"css2/style.css\">\n");
      out.write("<div class=\"page-header\">\n");
      out.write("<h1>\n");
      out.write("        A1\n");
      out.write("        <small>\n");
      out.write("                <i class=\"ace-icon fa fa-angle-double-right\"></i>\n");
      out.write("                Not returned from leave\n");
      out.write("        </small>\n");
      out.write("</h1>\n");
      out.write("</div><!-- /.page-header -->\n");
      out.write("\n");
      out.write("<div class=\"row\">\n");
      out.write("<div class=\"col-xs-12\">\n");
      out.write("        <!-- PAGE CONTENT BEGINS -->\n");
      out.write("        ");
 //formpage.jsp?pageid=1&caseid="<%=caseid1 
      out.write("\n");
      out.write("        <form class=\"form-horizontal\"  action=\"FormServlet\" method=\"post\" enctype=\"multipart/form-data\" >\n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1\" > Case ID</label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                            <input type=\"text\" name=\"caseidupdate\"  class=\"form-control\" required=\"required\" value=\"");
      out.print(caseid1);
      out.write("\" readonly/>\n");
      out.write("                        </div>\n");
      out.write("                </div>\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                    \n");
      out.write("                    \n");
      out.write("                    ");

                    if(caseid1.contains("null")){
                    
      out.write("\n");
      out.write("                                <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1\" > Date</label>\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                            <input type=\"date\" name=\"date\" placeholder=\"yyyy/mm/dd\" class=\"form-control\" required=\"required\" value=\"");
      out.print(dateS);
      out.write("\"/>\n");
      out.write("                        </div>\n");
      out.write("                        ");

                        }else{
                        
      out.write("\n");
      out.write("                          <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1\" > Date</label>\n");
      out.write("                            <div class=\"col-sm-9\">\n");
      out.write("                            <input type=\"text\" name=\"date\"  class=\"form-control\" required=\"required\" value=\"");
      out.print(dateS);
      out.write("\" readonly/>\n");
      out.write("                        </div>\n");
      out.write("                        ");

                        }   
                        
      out.write("\n");
      out.write("                </div>\n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\" > Reason </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                <input type=\"text\"  value=\"");
      out.print(reasonS);
      out.write("\" class=\"form-control\" name=\"reason\" required/>\n");
      out.write("                        </div>\n");
      out.write("                </div>\n");
      out.write("                                                        <div class=\"form-group\">\n");
      out.write("                <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> Employee ID </label>\n");
      out.write("\n");
      out.write("                <div class=\"col-sm-9\">\n");
      out.write("                    ");

                    if(caseid1.contains("null")){
                    
      out.write("\n");
      out.write("                        <input list=\"empid\"  name=\"empID\"  required=\"\">\n");
      out.write("                        <datalist id=\"empid\">\n");
      out.write("                            ");
       
                               Connection OracleConnection=OracleDbConnection.OracleGetConnection();
                               String query=objQuery.getEmpData();
                               PreparedStatement ps2=OracleConnection.prepareStatement(query);
                               String ID="";

                               ResultSet rs2=ps2.executeQuery();

                               while(rs2.next())
                                {		
                                  ID=rs2.getString(3)+ "- "+rs2.getString(1);
                                  out.println("<option>"+ID+"</option>");
                              
                                }
                             
      out.write("\n");
      out.write("                        </datalist>\n");
      out.write("                        ");

                        }else{
                        
      out.write("\n");
      out.write("                            <input  value=\"");
      out.print(nameS+"-"+empIDS);
      out.write("\" class=\"form-control\" name=\"empID\" readonly/> \n");
      out.write("                        ");

                        }   
                        
      out.write("\t\n");
      out.write("\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("                </div>  \n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                <label class=\"control-label col-xs-12 col-sm-3 no-padding-right\" for=\"food\">Unit</label>\n");
      out.write("                <div class=\"col-xs-12 col-sm-9\">\n");
      out.write("                ");

                
                if(caseid1.contains("null")){
                    
      out.write("\n");
      out.write("                    <input list=\"unit\"  name=\"unity\">\n");
      out.write("                    <datalist id=\"unit\">\n");
      out.write("                    \n");
      out.write("                    \n");
      out.write("                    ");

                    Connection OracleConnection=OracleDbConnection.OracleGetConnection();
                    String query=objQuery.getUnits();
                    PreparedStatement ps2=OracleConnection.prepareStatement(query);
                    String unit="";

                    ResultSet rs2=ps2.executeQuery();
                    while(rs2.next()){		
                        unit=rs2.getString(1);
                        out.println("<option>"+unit+"</option>");
                    }
                    
      out.write("\n");
      out.write("                    </datalist>\n");
      out.write("                    ");

                }else{
                    
      out.write("\n");
      out.write("                    <input type=\"text\"  value=\"");
      out.print(unityS);
      out.write("\" class=\"form-control\" name=\"unity\" readonly/> \n");
      out.write("                   ");

                }
                
      out.write("        \n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("                         \n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> Remarks </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                <input type=\"text\" name=\"remarks\" value=\"");
      out.print(remarksS);
      out.write("\" class=\"form-control\"  required/>\n");
      out.write("                        </div>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> Amount to be recovered(A part from salary holdings) </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                <input type=\"text\" name=\"recovered\" value=\"");
      out.print(recoveredS);
      out.write("\"class=\"form-control\" required/>\n");
      out.write("                        </div>\n");
      out.write("                </div>\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> Salary deposit </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                <input type=\"text\" name=\"salaryDeposit\" value=\"");
      out.print(salaryDepositS);
      out.write("\" class=\"form-control\"  required/>\n");
      out.write("                        </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> Total Amount </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                <input type=\"text\" name=\"totalAmount\" value=\"");
      out.print(totalAmountS);
      out.write("\" class=\"form-control\"  required/>\n");
      out.write("                        </div>\n");
      out.write("                        </div>\n");
      out.write("                                <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> F & F Fixed & Closed/Remarks </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("\n");
      out.write("                        <select name=\"fileClosed\"   class=\"form-control\">\n");
      out.write("                             <option>");
      out.print(fileClosedS);
      out.write("</option>\n");
      out.write("                            <option>YES</option>\n");
      out.write("                            <option>NO</option>\n");
      out.write("\n");
      out.write("                        </select>\n");
      out.write("                                </div>\n");
      out.write("                        </div>                                                 \n");
      out.write("                        \n");
      out.write("                        ");
                        
                            for(int i=0;i<attachVector.size();i++){                               
                                out.print("<div class='alert alert-info'>");
                                out.print("<i class='ace-icon fa fa-hand-o-right'></i>");
                                out.print("<a href='a1FileOpen?param="+attachVector.get(i).getPath()+")'>"); 
                               
                                out.print("Attachment"+"</a></div>");
                                
                               
                            }
                          
                        
      out.write("  \n");
      out.write("                        \n");
      out.write("                              <div class=\"form-group\">\n");
      out.write("                        <label class=\"col-sm-3 control-label no-padding-right\" for=\"form-field-1-1\"> </label>\n");
      out.write("\n");
      out.write("                        <div class=\"col-sm-9\">\n");
      out.write("                                 <div class=\"widget-body\">\n");
      out.write("                    <div class=\"widget-main\">\n");
      out.write("\n");
      out.write("\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                    <div class=\"col-xs-12\">\n");
      out.write("                                            <input  name=\"fileOne\" type=\"file\" id=\"fileOne\" multiple/>\n");
      out.write("                                    </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                    </div>\n");
      out.write("            </div>\n");
      out.write("                        </div>\n");
      out.write("                        </div>\n");
      out.write("            \n");
      out.write("                        <div class=\"col-md-offset-3 col-md-9\">\n");
      out.write("                                <button class=\"btn btn-info\" type=\"submit\" name=\"sub\">\n");
      out.write("                                        <i class=\"ace-icon fa fa-check bigger-110\"></i>\n");
      out.write("                                        Submit\n");
      out.write("                                </button>\n");
      out.write("\n");
      out.write("                                &nbsp; &nbsp; &nbsp;\n");
      out.write("                                <button class=\"btn\" type=\"reset\">\n");
      out.write("                                        <i class=\"ace-icon fa fa-undo bigger-110\"></i>\n");
      out.write("                                        Reset\n");
      out.write("                                </button>\n");
      out.write("                                </form>\n");
      out.write("                        </div>\n");
      out.write("                          \n");
      out.write("              <script type=\"text/javascript\">\n");
      out.write("\t\t\tif('ontouchstart' in document.documentElement) document.write(\"<script src='assets/js/jquery.mobile.custom.min.js'>\"+\"<\"+\"/script>\");\n");
      out.write("\t\t</script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- page specific plugin scripts -->\n");
      out.write("\n");
      out.write("\t\t<!--[if lte IE 8]>\n");
      out.write("\t\t  <script src=\"assets/js/excanvas.min.js\"></script>\n");
      out.write("\t\t<![endif]-->\n");
      out.write("\t\t<script src=\"assets/js/jquery-ui.custom.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/jquery.ui.touch-punch.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/chosen.jquery.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/spinbox.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap-datepicker.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap-timepicker.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/moment.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/daterangepicker.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap-datetimepicker.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap-colorpicker.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/jquery.knob.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/autosize.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/jquery.inputlimiter.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/jquery.maskedinput.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap-tag.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- ace scripts -->\n");
      out.write("\t\t<script src=\"assets/js/ace-elements.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/ace.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- inline scripts related to this page -->\n");
      out.write("\t\t<script type=\"text/javascript\">\n");
      out.write("\t\t\t\n");
      out.write("                        \n");
      out.write("                        jQuery(function($){\n");
      out.write("\t\t\t    var demo1 = $('select[name=\"duallistbox_demo1[]\"]').bootstrapDualListbox({infoTextFiltered: '<span class=\"label label-purple label-lg\">Filtered</span>'});\n");
      out.write("\t\t\t\tvar container1 = demo1.bootstrapDualListbox('getContainer');\n");
      out.write("\t\t\t\tcontainer1.find('.btn').addClass('btn-white btn-info btn-bold');\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t/**var setRatingColors = function() {\n");
      out.write("\t\t\t\t\t$(this).find('.star-on-png,.star-half-png').addClass('orange2').removeClass('grey');\n");
      out.write("\t\t\t\t\t$(this).find('.star-off-png').removeClass('orange2').addClass('grey');\n");
      out.write("\t\t\t\t}*/\n");
      out.write("\t\t\t\t$('.rating').raty({\n");
      out.write("\t\t\t\t\t'cancel' : true,\n");
      out.write("\t\t\t\t\t'half': true,\n");
      out.write("\t\t\t\t\t'starType' : 'i'\n");
      out.write("\t\t\t\t\t/**,\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t'click': function() {\n");
      out.write("\t\t\t\t\t\tsetRatingColors.call(this);\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t'mouseover': function() {\n");
      out.write("\t\t\t\t\t\tsetRatingColors.call(this);\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t'mouseout': function() {\n");
      out.write("\t\t\t\t\t\tsetRatingColors.call(this);\n");
      out.write("\t\t\t\t\t}*/\n");
      out.write("\t\t\t\t})//.find('i:not(.star-raty)').addClass('grey');\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//////////////////\n");
      out.write("\t\t\t\t//select2\n");
      out.write("\t\t\t\t$('.select2').css('width','200px').select2({allowClear:true})\n");
      out.write("\t\t\t\t$('#select2-multiple-style .btn').on('click', function(e){\n");
      out.write("\t\t\t\t\tvar target = $(this).find('input[type=radio]');\n");
      out.write("\t\t\t\t\tvar which = parseInt(target.val());\n");
      out.write("\t\t\t\t\tif(which == 2) $('.select2').addClass('tag-input-style');\n");
      out.write("\t\t\t\t\t else $('.select2').removeClass('tag-input-style');\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//////////////////\n");
      out.write("\t\t\t\t$('.multiselect').multiselect({\n");
      out.write("\t\t\t\t enableFiltering: true,\n");
      out.write("\t\t\t\t enableHTML: true,\n");
      out.write("\t\t\t\t buttonClass: 'btn btn-white btn-primary',\n");
      out.write("\t\t\t\t templates: {\n");
      out.write("\t\t\t\t\tbutton: '<button type=\"button\" class=\"multiselect dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"multiselect-selected-text\"></span> &nbsp;<b class=\"fa fa-caret-down\"></b></button>',\n");
      out.write("\t\t\t\t\tul: '<ul class=\"multiselect-container dropdown-menu\"></ul>',\n");
      out.write("\t\t\t\t\tfilter: '<li class=\"multiselect-item filter\"><div class=\"input-group\"><span class=\"input-group-addon\"><i class=\"fa fa-search\"></i></span><input class=\"form-control multiselect-search\" type=\"text\"></div></li>',\n");
      out.write("\t\t\t\t\tfilterClearBtn: '<span class=\"input-group-btn\"><button class=\"btn btn-default btn-white btn-grey multiselect-clear-filter\" type=\"button\"><i class=\"fa fa-times-circle red2\"></i></button></span>',\n");
      out.write("\t\t\t\t\tli: '<li><a tabindex=\"0\"><label></label></a></li>',\n");
      out.write("\t\t\t        divider: '<li class=\"multiselect-item divider\"></li>',\n");
      out.write("\t\t\t        liGroup: '<li class=\"multiselect-item multiselect-group\"><label></label></li>'\n");
      out.write("\t\t\t\t }\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t///////////////////\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t//typeahead.js\n");
      out.write("\t\t\t\t//example taken from plugin's page at: https://twitter.github.io/typeahead.js/examples/\n");
      out.write("\t\t\t\tvar substringMatcher = function(strs) {\n");
      out.write("\t\t\t\t\treturn function findMatches(q, cb) {\n");
      out.write("\t\t\t\t\t\tvar matches, substringRegex;\n");
      out.write("\t\t\t\t\t \n");
      out.write("\t\t\t\t\t\t// an array that will be populated with substring matches\n");
      out.write("\t\t\t\t\t\tmatches = [];\n");
      out.write("\t\t\t\t\t \n");
      out.write("\t\t\t\t\t\t// regex used to determine if a string contains the substring `q`\n");
      out.write("\t\t\t\t\t\tsubstrRegex = new RegExp(q, 'i');\n");
      out.write("\t\t\t\t\t \n");
      out.write("\t\t\t\t\t\t// iterate through the pool of strings and for any string that\n");
      out.write("\t\t\t\t\t\t// contains the substring `q`, add it to the `matches` array\n");
      out.write("\t\t\t\t\t\t$.each(strs, function(i, str) {\n");
      out.write("\t\t\t\t\t\t\tif (substrRegex.test(str)) {\n");
      out.write("\t\t\t\t\t\t\t\t// the typeahead jQuery plugin expects suggestions to a\n");
      out.write("\t\t\t\t\t\t\t\t// JavaScript object, refer to typeahead docs for more info\n");
      out.write("\t\t\t\t\t\t\t\tmatches.push({ value: str });\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t\tcb(matches);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t }\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t $('input.typeahead').typeahead({\n");
      out.write("\t\t\t\t\thint: true,\n");
      out.write("\t\t\t\t\thighlight: true,\n");
      out.write("\t\t\t\t\tminLength: 1\n");
      out.write("\t\t\t\t }, {\n");
      out.write("\t\t\t\t\tname: 'states',\n");
      out.write("\t\t\t\t\tdisplayKey: 'value',\n");
      out.write("\t\t\t\t\tsource: substringMatcher(ace.vars['US_STATES']),\n");
      out.write("\t\t\t\t\tlimit: 10\n");
      out.write("\t\t\t\t });\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t///////////////\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//in ajax mode, remove remaining elements before leaving page\n");
      out.write("\t\t\t\t$(document).one('ajaxloadstart.page', function(e) {\n");
      out.write("\t\t\t\t\t$('[class*=select2]').remove();\n");
      out.write("\t\t\t\t\t$('select[name=\"duallistbox_demo1[]\"]').bootstrapDualListbox('destroy');\n");
      out.write("\t\t\t\t\t$('.rating').raty('destroy');\n");
      out.write("\t\t\t\t\t$('.multiselect').multiselect('destroy');\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t});\n");
      out.write("                        \n");
      out.write("                        \n");
      out.write("                            jQuery(function($) {\n");
      out.write("\t\t\t\t$('#id-disable-check').on('click', function() {\n");
      out.write("\t\t\t\t\tvar inp = $('#form-input-readonly').get(0);\n");
      out.write("\t\t\t\t\tif(inp.hasAttribute('disabled')) {\n");
      out.write("\t\t\t\t\t\tinp.setAttribute('readonly' , 'true');\n");
      out.write("\t\t\t\t\t\tinp.removeAttribute('disabled');\n");
      out.write("\t\t\t\t\t\tinp.value=\"This text field is readonly!\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\telse {\n");
      out.write("\t\t\t\t\t\tinp.setAttribute('disabled' , 'disabled');\n");
      out.write("\t\t\t\t\t\tinp.removeAttribute('readonly');\n");
      out.write("\t\t\t\t\t\tinp.value=\"This text field is disabled!\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\tif(!ace.vars['touch']) {\n");
      out.write("\t\t\t\t\t$('.chosen-select').chosen({allow_single_deselect:true}); \n");
      out.write("\t\t\t\t\t//resize the chosen on window resize\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t$(window)\n");
      out.write("\t\t\t\t\t.off('resize.chosen')\n");
      out.write("\t\t\t\t\t.on('resize.chosen', function() {\n");
      out.write("\t\t\t\t\t\t$('.chosen-select').each(function() {\n");
      out.write("\t\t\t\t\t\t\t var $this = $(this);\n");
      out.write("\t\t\t\t\t\t\t $this.next().css({'width': $this.parent().width()});\n");
      out.write("\t\t\t\t\t\t})\n");
      out.write("\t\t\t\t\t}).trigger('resize.chosen');\n");
      out.write("\t\t\t\t\t//resize chosen on sidebar collapse/expand\n");
      out.write("\t\t\t\t\t$(document).on('settings.ace.chosen', function(e, event_name, event_val) {\n");
      out.write("\t\t\t\t\t\tif(event_name != 'sidebar_collapsed') return;\n");
      out.write("\t\t\t\t\t\t$('.chosen-select').each(function() {\n");
      out.write("\t\t\t\t\t\t\t var $this = $(this);\n");
      out.write("\t\t\t\t\t\t\t $this.next().css({'width': $this.parent().width()});\n");
      out.write("\t\t\t\t\t\t})\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t$('#chosen-multiple-style .btn').on('click', function(e){\n");
      out.write("\t\t\t\t\t\tvar target = $(this).find('input[type=radio]');\n");
      out.write("\t\t\t\t\t\tvar which = parseInt(target.val());\n");
      out.write("\t\t\t\t\t\tif(which == 2) $('#form-field-select-4').addClass('tag-input-style');\n");
      out.write("\t\t\t\t\t\t else $('#form-field-select-4').removeClass('tag-input-style');\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('[data-rel=tooltip]').tooltip({container:'body'});\n");
      out.write("\t\t\t\t$('[data-rel=popover]').popover({container:'body'});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\tautosize($('textarea[class*=autosize]'));\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$('textarea.limited').inputlimiter({\n");
      out.write("\t\t\t\t\tremText: '%n character%s remaining...',\n");
      out.write("\t\t\t\t\tlimitText: 'max allowed : %n.'\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$.mask.definitions['~']='[+-]';\n");
      out.write("\t\t\t\t$('.input-mask-date').mask('99/99/9999');\n");
      out.write("\t\t\t\t$('.input-mask-phone').mask('(999) 999-9999');\n");
      out.write("\t\t\t\t$('.input-mask-eyescript').mask('~9.99 ~9.99 999');\n");
      out.write("\t\t\t\t$(\".input-mask-product\").mask(\"a*-999-a999\",{placeholder:\" \",completed:function(){alert(\"You typed the following: \"+this.val());}});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$( \"#input-size-slider\" ).css('width','200px').slider({\n");
      out.write("\t\t\t\t\tvalue:1,\n");
      out.write("\t\t\t\t\trange: \"min\",\n");
      out.write("\t\t\t\t\tmin: 1,\n");
      out.write("\t\t\t\t\tmax: 8,\n");
      out.write("\t\t\t\t\tstep: 1,\n");
      out.write("\t\t\t\t\tslide: function( event, ui ) {\n");
      out.write("\t\t\t\t\t\tvar sizing = ['', 'input-sm', 'input-lg', 'input-mini', 'input-small', 'input-medium', 'input-large', 'input-xlarge', 'input-xxlarge'];\n");
      out.write("\t\t\t\t\t\tvar val = parseInt(ui.value);\n");
      out.write("\t\t\t\t\t\t$('#form-field-4').attr('class', sizing[val]).attr('placeholder', '.'+sizing[val]);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$( \"#input-span-slider\" ).slider({\n");
      out.write("\t\t\t\t\tvalue:1,\n");
      out.write("\t\t\t\t\trange: \"min\",\n");
      out.write("\t\t\t\t\tmin: 1,\n");
      out.write("\t\t\t\t\tmax: 12,\n");
      out.write("\t\t\t\t\tstep: 1,\n");
      out.write("\t\t\t\t\tslide: function( event, ui ) {\n");
      out.write("\t\t\t\t\t\tvar val = parseInt(ui.value);\n");
      out.write("\t\t\t\t\t\t$('#form-field-5').attr('class', 'col-xs-'+val).val('.col-xs-'+val);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//\"jQuery UI Slider\"\n");
      out.write("\t\t\t\t//range slider tooltip example\n");
      out.write("\t\t\t\t$( \"#slider-range\" ).css('height','200px').slider({\n");
      out.write("\t\t\t\t\torientation: \"vertical\",\n");
      out.write("\t\t\t\t\trange: true,\n");
      out.write("\t\t\t\t\tmin: 0,\n");
      out.write("\t\t\t\t\tmax: 100,\n");
      out.write("\t\t\t\t\tvalues: [ 17, 67 ],\n");
      out.write("\t\t\t\t\tslide: function( event, ui ) {\n");
      out.write("\t\t\t\t\t\tvar val = ui.values[$(ui.handle).index()-1] + \"\";\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t\tif( !ui.handle.firstChild ) {\n");
      out.write("\t\t\t\t\t\t\t$(\"<div class='tooltip right in' style='display:none;left:16px;top:-6px;'><div class='tooltip-arrow'></div><div class='tooltip-inner'></div></div>\")\n");
      out.write("\t\t\t\t\t\t\t.prependTo(ui.handle);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t$(ui.handle.firstChild).show().children().eq(1).text(val);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t}).find('span.ui-slider-handle').on('blur', function(){\n");
      out.write("\t\t\t\t\t$(this.firstChild).hide();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$( \"#slider-range-max\" ).slider({\n");
      out.write("\t\t\t\t\trange: \"max\",\n");
      out.write("\t\t\t\t\tmin: 1,\n");
      out.write("\t\t\t\t\tmax: 10,\n");
      out.write("\t\t\t\t\tvalue: 2\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$( \"#slider-eq > span\" ).css({width:'90%', 'float':'left', margin:'15px'}).each(function() {\n");
      out.write("\t\t\t\t\t// read initial values from markup and remove that\n");
      out.write("\t\t\t\t\tvar value = parseInt( $( this ).text(), 10 );\n");
      out.write("\t\t\t\t\t$( this ).empty().slider({\n");
      out.write("\t\t\t\t\t\tvalue: value,\n");
      out.write("\t\t\t\t\t\trange: \"min\",\n");
      out.write("\t\t\t\t\t\tanimate: true\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$(\"#slider-eq > span.ui-slider-purple\").slider('disable');//disable third item\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$('#id-input-file-1 , #id-input-file-2').ace_file_input({\n");
      out.write("\t\t\t\t\tno_file:'No File ...',\n");
      out.write("\t\t\t\t\tbtn_choose:'Choose',\n");
      out.write("\t\t\t\t\tbtn_change:'Change',\n");
      out.write("\t\t\t\t\tdroppable:false,\n");
      out.write("\t\t\t\t\tonchange:null,\n");
      out.write("\t\t\t\t\tthumbnail:false //| true | large\n");
      out.write("\t\t\t\t\t//whitelist:'gif|png|jpg|jpeg'\n");
      out.write("\t\t\t\t\t//blacklist:'exe|php'\n");
      out.write("\t\t\t\t\t//onchange:''\n");
      out.write("\t\t\t\t\t//\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t//pre-show a file name, for example a previously selected file\n");
      out.write("\t\t\t\t//$('#id-input-file-1').ace_file_input('show_file_list', ['myfile.txt'])\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#id-input-file-3').ace_file_input({\n");
      out.write("\t\t\t\t\tstyle: 'well',\n");
      out.write("\t\t\t\t\tbtn_choose: 'Drop files here or click to choose',\n");
      out.write("\t\t\t\t\tbtn_change: null,\n");
      out.write("\t\t\t\t\tno_icon: 'ace-icon fa fa-cloud-upload',\n");
      out.write("\t\t\t\t\tdroppable: true,\n");
      out.write("\t\t\t\t\tthumbnail: 'small'//large | fit\n");
      out.write("\t\t\t\t\t//,icon_remove:null//set null, to hide remove/reset button\n");
      out.write("\t\t\t\t\t/**,before_change:function(files, dropped) {\n");
      out.write("\t\t\t\t\t\t//Check an example below\n");
      out.write("\t\t\t\t\t\t//or examples/file-upload.html\n");
      out.write("\t\t\t\t\t\treturn true;\n");
      out.write("\t\t\t\t\t}*/\n");
      out.write("\t\t\t\t\t/**,before_remove : function() {\n");
      out.write("\t\t\t\t\t\treturn true;\n");
      out.write("\t\t\t\t\t}*/\n");
      out.write("\t\t\t\t\t,\n");
      out.write("\t\t\t\t\tpreview_error : function(filename, error_code) {\n");
      out.write("\t\t\t\t\t\t//name of the file that failed\n");
      out.write("\t\t\t\t\t\t//error_code values\n");
      out.write("\t\t\t\t\t\t//1 = 'FILE_LOAD_FAILED',\n");
      out.write("\t\t\t\t\t\t//2 = 'IMAGE_LOAD_FAILED',\n");
      out.write("\t\t\t\t\t\t//3 = 'THUMBNAIL_FAILED'\n");
      out.write("\t\t\t\t\t\t//alert(error_code);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t}).on('change', function(){\n");
      out.write("\t\t\t\t\t//console.log($(this).data('ace_input_files'));\n");
      out.write("\t\t\t\t\t//console.log($(this).data('ace_input_method'));\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//$('#id-input-file-3')\n");
      out.write("\t\t\t\t//.ace_file_input('show_file_list', [\n");
      out.write("\t\t\t\t\t//{type: 'image', name: 'name of image', path: 'http://path/to/image/for/preview'},\n");
      out.write("\t\t\t\t\t//{type: 'file', name: 'hello.txt'}\n");
      out.write("\t\t\t\t//]);\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t//dynamically change allowed formats by changing allowExt && allowMime function\n");
      out.write("\t\t\t\t$('#id-file-format').removeAttr('checked').on('change', function() {\n");
      out.write("\t\t\t\t\tvar whitelist_ext, whitelist_mime;\n");
      out.write("\t\t\t\t\tvar btn_choose\n");
      out.write("\t\t\t\t\tvar no_icon\n");
      out.write("\t\t\t\t\tif(this.checked) {\n");
      out.write("\t\t\t\t\t\tbtn_choose = \"Drop images here or click to choose\";\n");
      out.write("\t\t\t\t\t\tno_icon = \"ace-icon fa fa-picture-o\";\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t\twhitelist_ext = [\"jpeg\", \"jpg\", \"png\", \"gif\" , \"bmp\"];\n");
      out.write("\t\t\t\t\t\twhitelist_mime = [\"image/jpg\", \"image/jpeg\", \"image/png\", \"image/gif\", \"image/bmp\"];\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\telse {\n");
      out.write("\t\t\t\t\t\tbtn_choose = \"Drop files here or click to choose\";\n");
      out.write("\t\t\t\t\t\tno_icon = \"ace-icon fa fa-cloud-upload\";\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\twhitelist_ext = null;//all extensions are acceptable\n");
      out.write("\t\t\t\t\t\twhitelist_mime = null;//all mimes are acceptable\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\tvar file_input = $('#id-input-file-3');\n");
      out.write("\t\t\t\t\tfile_input\n");
      out.write("\t\t\t\t\t.ace_file_input('update_settings',\n");
      out.write("\t\t\t\t\t{\n");
      out.write("\t\t\t\t\t\t'btn_choose': btn_choose,\n");
      out.write("\t\t\t\t\t\t'no_icon': no_icon,\n");
      out.write("\t\t\t\t\t\t'allowExt': whitelist_ext,\n");
      out.write("\t\t\t\t\t\t'allowMime': whitelist_mime\n");
      out.write("\t\t\t\t\t})\n");
      out.write("\t\t\t\t\tfile_input.ace_file_input('reset_input');\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tfile_input\n");
      out.write("\t\t\t\t\t.off('file.error.ace')\n");
      out.write("\t\t\t\t\t.on('file.error.ace', function(e, info) {\n");
      out.write("\t\t\t\t\t\t//console.log(info.file_count);//number of selected files\n");
      out.write("\t\t\t\t\t\t//console.log(info.invalid_count);//number of invalid files\n");
      out.write("\t\t\t\t\t\t//console.log(info.error_list);//a list of errors in the following format\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t//info.error_count['ext']\n");
      out.write("\t\t\t\t\t\t//info.error_count['mime']\n");
      out.write("\t\t\t\t\t\t//info.error_count['size']\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t//info.error_list['ext']  = [list of file names with invalid extension]\n");
      out.write("\t\t\t\t\t\t//info.error_list['mime'] = [list of file names with invalid mimetype]\n");
      out.write("\t\t\t\t\t\t//info.error_list['size'] = [list of file names with invalid size]\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t/**\n");
      out.write("\t\t\t\t\t\tif( !info.dropped ) {\n");
      out.write("\t\t\t\t\t\t\t//perhapse reset file field if files have been selected, and there are invalid files among them\n");
      out.write("\t\t\t\t\t\t\t//when files are dropped, only valid files will be added to our file array\n");
      out.write("\t\t\t\t\t\t\te.preventDefault();//it will rest input\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t*/\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t//if files have been selected (not dropped), you can choose to reset input\n");
      out.write("\t\t\t\t\t\t//because browser keeps all selected files anyway and this cannot be changed\n");
      out.write("\t\t\t\t\t\t//we can only reset file field to become empty again\n");
      out.write("\t\t\t\t\t\t//on any case you still should check files with your server side script\n");
      out.write("\t\t\t\t\t\t//because any arbitrary file can be uploaded by user and it's not safe to rely on browser-side measures\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t/**\n");
      out.write("\t\t\t\t\tfile_input\n");
      out.write("\t\t\t\t\t.off('file.preview.ace')\n");
      out.write("\t\t\t\t\t.on('file.preview.ace', function(e, info) {\n");
      out.write("\t\t\t\t\t\tconsole.log(info.file.width);\n");
      out.write("\t\t\t\t\t\tconsole.log(info.file.height);\n");
      out.write("\t\t\t\t\t\te.preventDefault();//to prevent preview\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t*/\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#spinner1').ace_spinner({value:0,min:0,max:200,step:10, btn_up_class:'btn-info' , btn_down_class:'btn-info'})\n");
      out.write("\t\t\t\t.closest('.ace-spinner')\n");
      out.write("\t\t\t\t.on('changed.fu.spinbox', function(){\n");
      out.write("\t\t\t\t\t//console.log($('#spinner1').val())\n");
      out.write("\t\t\t\t}); \n");
      out.write("\t\t\t\t$('#spinner2').ace_spinner({value:0,min:0,max:10000,step:100, touch_spinner: true, icon_up:'ace-icon fa fa-caret-up bigger-110', icon_down:'ace-icon fa fa-caret-down bigger-110'});\n");
      out.write("\t\t\t\t$('#spinner3').ace_spinner({value:0,min:-100,max:100,step:10, on_sides: true, icon_up:'ace-icon fa fa-plus bigger-110', icon_down:'ace-icon fa fa-minus bigger-110', btn_up_class:'btn-success' , btn_down_class:'btn-danger'});\n");
      out.write("\t\t\t\t$('#spinner4').ace_spinner({value:0,min:-100,max:100,step:10, on_sides: true, icon_up:'ace-icon fa fa-plus', icon_down:'ace-icon fa fa-minus', btn_up_class:'btn-purple' , btn_down_class:'btn-purple'});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t//$('#spinner1').ace_spinner('disable').ace_spinner('value', 11);\n");
      out.write("\t\t\t\t//or\n");
      out.write("\t\t\t\t//$('#spinner1').closest('.ace-spinner').spinner('disable').spinner('enable').spinner('value', 11);//disable, enable or change value\n");
      out.write("\t\t\t\t//$('#spinner1').closest('.ace-spinner').spinner('value', 0);//reset to 0\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t//datepicker plugin\n");
      out.write("\t\t\t\t//link\n");
      out.write("\t\t\t\t$('.date-picker').datepicker({\n");
      out.write("\t\t\t\t\tautoclose: true,\n");
      out.write("\t\t\t\t\ttodayHighlight: true\n");
      out.write("\t\t\t\t})\n");
      out.write("\t\t\t\t//show datepicker when clicking on the icon\n");
      out.write("\t\t\t\t.next().on(ace.click_event, function(){\n");
      out.write("\t\t\t\t\t$(this).prev().focus();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t//or change it into a date range picker\n");
      out.write("\t\t\t\t$('.input-daterange').datepicker({autoclose:true});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t//to translate the daterange picker, please copy the \"examples/daterange-fr.js\" contents here before initialization\n");
      out.write("\t\t\t\t$('input[name=date-range-picker]').daterangepicker({\n");
      out.write("\t\t\t\t\t'applyClass' : 'btn-sm btn-success',\n");
      out.write("\t\t\t\t\t'cancelClass' : 'btn-sm btn-default',\n");
      out.write("\t\t\t\t\tlocale: {\n");
      out.write("\t\t\t\t\t\tapplyLabel: 'Apply',\n");
      out.write("\t\t\t\t\t\tcancelLabel: 'Cancel',\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t})\n");
      out.write("\t\t\t\t.prev().on(ace.click_event, function(){\n");
      out.write("\t\t\t\t\t$(this).next().focus();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#timepicker1').timepicker({\n");
      out.write("\t\t\t\t\tminuteStep: 1,\n");
      out.write("\t\t\t\t\tshowSeconds: true,\n");
      out.write("\t\t\t\t\tshowMeridian: false,\n");
      out.write("\t\t\t\t\tdisableFocus: true,\n");
      out.write("\t\t\t\t\ticons: {\n");
      out.write("\t\t\t\t\t\tup: 'fa fa-chevron-up',\n");
      out.write("\t\t\t\t\t\tdown: 'fa fa-chevron-down'\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t}).on('focus', function() {\n");
      out.write("\t\t\t\t\t$('#timepicker1').timepicker('showWidget');\n");
      out.write("\t\t\t\t}).next().on(ace.click_event, function(){\n");
      out.write("\t\t\t\t\t$(this).prev().focus();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\tif(!ace.vars['old_ie']) $('#date-timepicker1').datetimepicker({\n");
      out.write("\t\t\t\t //format: 'MM/DD/YYYY h:mm:ss A',//use this option to display seconds\n");
      out.write("\t\t\t\t icons: {\n");
      out.write("\t\t\t\t\ttime: 'fa fa-clock-o',\n");
      out.write("\t\t\t\t\tdate: 'fa fa-calendar',\n");
      out.write("\t\t\t\t\tup: 'fa fa-chevron-up',\n");
      out.write("\t\t\t\t\tdown: 'fa fa-chevron-down',\n");
      out.write("\t\t\t\t\tprevious: 'fa fa-chevron-left',\n");
      out.write("\t\t\t\t\tnext: 'fa fa-chevron-right',\n");
      out.write("\t\t\t\t\ttoday: 'fa fa-arrows ',\n");
      out.write("\t\t\t\t\tclear: 'fa fa-trash',\n");
      out.write("\t\t\t\t\tclose: 'fa fa-times'\n");
      out.write("\t\t\t\t }\n");
      out.write("\t\t\t\t}).next().on(ace.click_event, function(){\n");
      out.write("\t\t\t\t\t$(this).prev().focus();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#colorpicker1').colorpicker();\n");
      out.write("\t\t\t\t//$('.colorpicker').last().css('z-index', 2000);//if colorpicker is inside a modal, its z-index should be higher than modal'safe\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$('#simple-colorpicker-1').ace_colorpicker();\n");
      out.write("\t\t\t\t//$('#simple-colorpicker-1').ace_colorpicker('pick', 2);//select 2nd color\n");
      out.write("\t\t\t\t//$('#simple-colorpicker-1').ace_colorpicker('pick', '#fbe983');//select #fbe983 color\n");
      out.write("\t\t\t\t//var picker = $('#simple-colorpicker-1').data('ace_colorpicker')\n");
      out.write("\t\t\t\t//picker.pick('red', true);//insert the color if it doesn't exist\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$(\".knob\").knob();\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\tvar tag_input = $('#form-field-tags');\n");
      out.write("\t\t\t\ttry{\n");
      out.write("\t\t\t\t\ttag_input.tag(\n");
      out.write("\t\t\t\t\t  {\n");
      out.write("\t\t\t\t\t\tplaceholder:tag_input.attr('placeholder'),\n");
      out.write("\t\t\t\t\t\t//enable typeahead by specifying the source array\n");
      out.write("\t\t\t\t\t\tsource: ace.vars['US_STATES'],//defined in ace.js >> ace.enable_search_ahead\n");
      out.write("\t\t\t\t\t\t/**\n");
      out.write("\t\t\t\t\t\t//or fetch data from database, fetch those that match \"query\"\n");
      out.write("\t\t\t\t\t\tsource: function(query, process) {\n");
      out.write("\t\t\t\t\t\t  $.ajax({url: 'remote_source.php?q='+encodeURIComponent(query)})\n");
      out.write("\t\t\t\t\t\t  .done(function(result_items){\n");
      out.write("\t\t\t\t\t\t\tprocess(result_items);\n");
      out.write("\t\t\t\t\t\t  });\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t*/\n");
      out.write("\t\t\t\t\t  }\n");
      out.write("\t\t\t\t\t)\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\t//programmatically add/remove a tag\n");
      out.write("\t\t\t\t\tvar $tag_obj = $('#form-field-tags').data('tag');\n");
      out.write("\t\t\t\t\t$tag_obj.add('Programmatically Added');\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tvar index = $tag_obj.inValues('some tag');\n");
      out.write("\t\t\t\t\t$tag_obj.remove(index);\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\tcatch(e) {\n");
      out.write("\t\t\t\t\t//display a textarea for old IE, because it doesn't support this plugin or another one I tried!\n");
      out.write("\t\t\t\t\ttag_input.after('<textarea id=\"'+tag_input.attr('id')+'\" name=\"'+tag_input.attr('name')+'\" rows=\"3\">'+tag_input.val()+'</textarea>').remove();\n");
      out.write("\t\t\t\t\t//autosize($('#form-field-tags'));\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t/////////\n");
      out.write("\t\t\t\t$('#modal-form input[type=file]').ace_file_input({\n");
      out.write("\t\t\t\t\tstyle:'well',\n");
      out.write("\t\t\t\t\tbtn_choose:'Drop files here or click to choose',\n");
      out.write("\t\t\t\t\tbtn_change:null,\n");
      out.write("\t\t\t\t\tno_icon:'ace-icon fa fa-cloud-upload',\n");
      out.write("\t\t\t\t\tdroppable:true,\n");
      out.write("\t\t\t\t\tthumbnail:'large'\n");
      out.write("\t\t\t\t})\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//chosen plugin inside a modal will have a zero width because the select element is originally hidden\n");
      out.write("\t\t\t\t//and its width cannot be determined.\n");
      out.write("\t\t\t\t//so we set the width after modal is show\n");
      out.write("\t\t\t\t$('#modal-form').on('shown.bs.modal', function () {\n");
      out.write("\t\t\t\t\tif(!ace.vars['touch']) {\n");
      out.write("\t\t\t\t\t\t$(this).find('.chosen-container').each(function(){\n");
      out.write("\t\t\t\t\t\t\t$(this).find('a:first-child').css('width' , '210px');\n");
      out.write("\t\t\t\t\t\t\t$(this).find('.chosen-drop').css('width' , '210px');\n");
      out.write("\t\t\t\t\t\t\t$(this).find('.chosen-search input').css('width' , '200px');\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t})\n");
      out.write("\t\t\t\t/**\n");
      out.write("\t\t\t\t//or you can activate the chosen plugin after modal is shown\n");
      out.write("\t\t\t\t//this way select element becomes visible with dimensions and chosen works as expected\n");
      out.write("\t\t\t\t$('#modal-form').on('shown', function () {\n");
      out.write("\t\t\t\t\t$(this).find('.modal-chosen').chosen();\n");
      out.write("\t\t\t\t})\n");
      out.write("\t\t\t\t*/\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$(document).one('ajaxloadstart.page', function(e) {\n");
      out.write("\t\t\t\t\tautosize.destroy('textarea[class*=autosize]')\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t$('.limiterBox,.autosizejs').remove();\n");
      out.write("\t\t\t\t\t$('.daterangepicker.dropdown-menu,.colorpicker.dropdown-menu,.bootstrap-datetimepicker-widget.dropdown-menu').remove();\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t});\n");
      out.write("                        \n");
      out.write("\t\t</script>\n");
      out.write("                \n");
      out.write("                   <script type=\"text/javascript\">\n");
      out.write("\t\t\tif('ontouchstart' in document.documentElement) document.write(\"<script src='assets/js/jquery.mobile.custom.min.js'>\"+\"<\"+\"/script>\");\n");
      out.write("                         function onCloseFunction(){\n");
      out.write("                            alert(\"ffff\");\n");
      out.write("                        }\n");
      out.write("                   \n");
      out.write("                   \n");
      out.write("                   </script>\n");
      out.write("\t\t<script src=\"assets/js/bootstrap.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- page specific plugin scripts -->\n");
      out.write("\t\t<script src=\"assets/js/dropzone.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- ace scripts -->\n");
      out.write("\t\t<script src=\"assets/js/ace-elements.min.js\"></script>\n");
      out.write("\t\t<script src=\"assets/js/ace.min.js\"></script>\n");
      out.write("\n");
      out.write("\t\t<!-- inline scripts related to this page -->\n");
      out.write("\t\t<script type=\"text/javascript\">\n");
      out.write("\t\t\tjQuery(function($){\n");
      out.write("\t\t\t\n");
      out.write("\t\t\ttry {\n");
      out.write("\t\t\t  Dropzone.autoDiscover = false;\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t  var myDropzone = new Dropzone('#dropzone', {\n");
      out.write("\t\t\t    previewTemplate: $('#preview-template').html(),\n");
      out.write("\t\t\t    \n");
      out.write("\t\t\t\tthumbnailHeight: 120,\n");
      out.write("\t\t\t    thumbnailWidth: 120,\n");
      out.write("\t\t\t    maxFilesize: 0.5,\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t//addRemoveLinks : true,\n");
      out.write("\t\t\t\t//dictRemoveFile: 'Remove',\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\tdictDefaultMessage :\n");
      out.write("\t\t\t\t'<span class=\"bigger-150 bolder\"><i class=\"ace-icon fa fa-caret-right red\"></i> Drop files</span> to upload \\\n");
      out.write("\t\t\t\t<span class=\"smaller-80 grey\">(or click)</span> <br /> \\\n");
      out.write("\t\t\t\t<i class=\"upload-icon ace-icon fa fa-cloud-upload blue fa-3x\"></i>'\n");
      out.write("\t\t\t,\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t    thumbnail: function(file, dataUrl) {\n");
      out.write("\t\t\t      if (file.previewElement) {\n");
      out.write("\t\t\t        $(file.previewElement).removeClass(\"dz-file-preview\");\n");
      out.write("\t\t\t        var images = $(file.previewElement).find(\"[data-dz-thumbnail]\").each(function() {\n");
      out.write("\t\t\t\t\t\tvar thumbnailElement = this;\n");
      out.write("\t\t\t\t\t\tthumbnailElement.alt = file.name;\n");
      out.write("\t\t\t\t\t\tthumbnailElement.src = dataUrl;\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t        setTimeout(function() { $(file.previewElement).addClass(\"dz-image-preview\"); }, 1);\n");
      out.write("\t\t\t      }\n");
      out.write("\t\t\t    }\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t  });\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t  //simulating upload progress\n");
      out.write("\t\t\t  var minSteps = 6,\n");
      out.write("\t\t\t      maxSteps = 60,\n");
      out.write("\t\t\t      timeBetweenSteps = 100,\n");
      out.write("\t\t\t      bytesPerStep = 100000;\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t  myDropzone.uploadFiles = function(files) {\n");
      out.write("\t\t\t    var self = this;\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t    for (var i = 0; i <2; i++) {\n");
      out.write("\t\t\t      var file = files[i];\n");
      out.write("\t\t\t          totalSteps = Math.round(Math.min(maxSteps, Math.max(minSteps, file.size / bytesPerStep)));\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t      for (var step = 0; step < totalSteps; step++) {\n");
      out.write("\t\t\t        var duration = timeBetweenSteps * (step + 1);\n");
      out.write("\t\t\t        setTimeout(function(file, totalSteps, step) {\n");
      out.write("\t\t\t          return function() {\n");
      out.write("\t\t\t            file.upload = {\n");
      out.write("\t\t\t              progress: 100 * (step + 1) / totalSteps,\n");
      out.write("\t\t\t              total: file.size,\n");
      out.write("\t\t\t              bytesSent: (step + 1) * file.size / totalSteps\n");
      out.write("\t\t\t            };\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t            self.emit('uploadprogress', file, file.upload.progress, file.upload.bytesSent);\n");
      out.write("\t\t\t            if (file.upload.progress == 100) {\n");
      out.write("\t\t\t              file.status = Dropzone.SUCCESS;\n");
      out.write("\t\t\t              self.emit(\"success\", file, 'success', null);\n");
      out.write("\t\t\t              self.emit(\"complete\", file);\n");
      out.write("\t\t\t              self.processQueue();\n");
      out.write("\t\t\t            }\n");
      out.write("\t\t\t          };\n");
      out.write("\t\t\t        }(file, totalSteps, step), duration);\n");
      out.write("\t\t\t      }\n");
      out.write("\t\t\t    }\n");
      out.write("\t\t\t   }\n");
      out.write("\t\t\t   //remove dropzone instance when leaving this page in ajax mode\n");
      out.write("\t\t\t   $(document).one('ajaxloadstart.page', function(e) {\n");
      out.write("\t\t\t\t\ttry {\n");
      out.write("\t\t\t\t\t\tmyDropzone.destroy();\n");
      out.write("\t\t\t\t\t} catch(e) {}\n");
      out.write("\t\t\t   });\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t} catch(e) {\n");
      out.write("\t\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t});\n");
      out.write("\t\t</script>\n");
      out.write("                ");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
